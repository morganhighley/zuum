<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_TPSkin" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Test and Debug Crestron Home Extension Drivers</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/TP-Global-Styles.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../Resources/Stylesheets/TP-Global-Table-Styles.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script type="text/javascript" src="../../Skins/Default/Scripts/TPSkin-TopicToolbar.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="http://www.crestron.com" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="padding">
                                        <div class="nocontent">
                                            <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                            </div>
                                        </div>
                                        <div role="main" id="mc-main-content">
                                            <h1>Test and Debug Crestron Home Extension Drivers</h1>
                                            <p>The following sections describe information that will help you to test and debug your Crestron Home Extension drivers.</p>
                                            <h2>Common Issues</h2>
                                            <p>The table below describes common issues that can occur with Crestron Home Extension drivers.</p>
                                            <table style="width: 100%;mc-table-style: url('../Resources/Stylesheets/TP-Global-Table-Styles.css');" class="TableStyle-TP-Global-Table-Styles" cellspacing="0">
                                                <col class="TableStyle-TP-Global-Table-Styles-Column-Column1" />
                                                <col class="TableStyle-TP-Global-Table-Styles-Column-Column1" />
                                                <thead>
                                                    <tr class="TableStyle-TP-Global-Table-Styles-Head-Header1">
                                                        <th class="TableStyle-TP-Global-Table-Styles-HeadE-Column1-Header1" style="text-align: left;">Problem</th>
                                                        <th class="TableStyle-TP-Global-Table-Styles-HeadD-Column1-Header1" style="text-align: left;">Solution(s)</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="TableStyle-TP-Global-Table-Styles-Body-Body1">
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyE-Column1-Body1">The driver PKG&#160;file was not generated by the ManifestUtil tool.</td>
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyD-Column1-Body1">1. Verify that your driver’s JSON file is correct. Compare the file to other existing drivers, such as the samples provided. Also use an online JSON validation tool to detect small errors.<br /><br />2. Verify that “IsExtensionDevice” is set to true in the driver’s JSON file.</td>
                                                    </tr>
                                                    <tr class="TableStyle-TP-Global-Table-Styles-Body-Body1">
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyE-Column1-Body1">The driver PKG&#160;file does not contain the UI definition and translation files.</td>
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyD-Column1-Body1">1. Verify that the “IncludeInPkg” folder was provided to the ManifestUtil tool when building the driver.<br /><br />2. Verify that the UI definition and translation files are in the “IncludeInPkg” folder and within the correct subfolders (“UiDefinitions” and “Translations”).</td>
                                                    </tr>
                                                    <tr class="TableStyle-TP-Global-Table-Styles-Body-Body1">
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyE-Column1-Body1">The driver cannot be added to Crestron Home.</td>
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyD-Column1-Body1">1. Verify that your driver does not throw any exceptions when adding it to the system. Exceptions that have occurred can be found in the error log (console command “err sys”).<br /><br />2. Verify that your driver fully implements the AExtensionDevice abstract class.</td>
                                                    </tr>
                                                    <tr class="TableStyle-TP-Global-Table-Styles-Body-Body1">
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyE-Column1-Body1">The device is not displaying in the Crestron Home app.</td>
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyD-Column1-Body1">
                                                            <p>1. Verify that your UI definition was included in your driver’s pkg file. The UI definition and translations should go in the “IncludeInPkg” folder.<br /><br />2. Verify that your UI definition is valid. This can be done by using the .xsd schema validation file.<br /><br />3. Verify that your device has been added to the correct room in the Crestron Home config UI.<br /><br />4. Check the error log on the control system and verify that there are no error messages or exceptions related to your device (console command “err sys”).</p>
                                                        </td>
                                                    </tr>
                                                    <tr class="TableStyle-TP-Global-Table-Styles-Body-Body1">
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyE-Column1-Body1">The language translations are not working.</td>
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyD-Column1-Body1">1. Verify that the keys are spelled correctly and match in the both the UI definition and translation file.<br /><br />2. Verify that translation keys begin with a caret symbol (^) in the UI definition.<br /><br />3. Verify that the translation files are in your driver’s PKG file and in the correct subfolder (“translations”).</td>
                                                    </tr>
                                                    <tr class="TableStyle-TP-Global-Table-Styles-Body-Body1">
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyB-Column1-Body1">The controls in the UI definition are not being updated with the current values. </td>
                                                        <td class="TableStyle-TP-Global-Table-Styles-BodyA-Column1-Body1">1. Verify that the key specified in the driver’s code matches the key specified in the UI definition.<br /><br />2. Ensure that you are calling the <span class="codeinline">Commit()</span> method from the driver whenever you finish updating property values.</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <h2>Logging and Debugging Commands</h2>
                                            <p>Logging can be used to debug issues with your Crestron Home Extension device. The three places where logging can be enabled are the RAD framework, Crestron Home (control system), and Crestron Home (app).</p>
                                            <h3>RAD&#160;Framework</h3>
                                            <p>RAD framework logs can be turned on per device and will provide logging messages specific to the device. These logs can be used to see specific events that are occurring on the device such as property value changes, calls to <span class="codeinline">DoCommand</span>, and error messages from the driver.</p>
                                            <p>To enable these logs:</p>
                                            <ol>
                                                <li value="1">Open a console connection to your Crestron control system using the Text Console tool in Crestron Toolbox™ software.</li>
                                                <li value="2">Send the command <span class="codeinline">ccdinfo</span>.</li>
                                                <li value="3">Find your device in the list and note the ID. The sample code below shows the ID in red.</li>
                                                <p class="codeboxshade">--- Driver Info for Driver ID <span style="color: #ff0000;">6</span>---<br />Driver: Example Door Lock Company - Example Door Lock<br />Type: Lock<br />GUID: cf312b6a-32ca-4735-8686-96a1900ef0b3<br />SDK Version: 2.00.004<br />Version: 1.0.0 (03/02/2018 00:00:00)<br />Using RADCommon, Version=2.9.1.5, Culture=neutral, PublicKeyToken=null<br />Using RADCommon, Version=2.9.1.5, Culture=neutral, PublicKeyToken=null<br />--- Driver Info End ---</p>
                                                <li value="4">Using the ID, send the command <span class="codeinline">ccdlogging {id} on</span>.</li>
                                            </ol>
                                            <p>To disable the logging, send the command <span class="codeinline">ccdlogging {id} off</span>.</p>
                                            <h3>Crestron Home (Control System)</h3>
                                            <p>Crestron Home logs can be turned on or off for the entire Crestron Home Extensions subsystem and not per device. These logs can be used to see what values Crestron Home is receiving from the driver and what values Crestron Home is sending to the driver.</p>
                                            <p>To enable these logs:</p>
                                            <ol>
                                                <li value="1">Send the command <span class="codeinline">enableprogramcmd</span>.</li>
                                                <li value="2">Send the command <span class="codeinline">pyng logging extensiondevicedebug {loglevel}</span>.</li>
                                            </ol>
                                            <p>Valid log levels are <span class="codeinline">off</span>, <span class="codeinline">trace</span>, <span class="codeinline">debug</span>, <span class="codeinline">info</span>, <span class="codeinline">warning</span>, and <span class="codeinline">error</span>.</p>
                                            <p>Crestron Home also provides debugging commands that allow you to see the current state of the device and current values of all the properties on the device. You can also set the value of a specific property or send a command to the device.</p>
                                            <p>To see the available commands, send the command <span class="codeinline">pyng rpc extensions</span>.</p>
                                            <p>The following commands are currently supported:</p>
                                            <ul>
                                                <li><strong>List</strong>: Lists all the Crestron Home Extension devices that are in the system.</li>
                                                <li><strong>GetDeviceUiDefinition</strong>: Prints the UI definition for the specified device (useful for verifying that the Crestron Home UI is receiving the correct UI definition).</li>
                                                <li><strong>GetDeviceTranslations</strong>: Prints the translations for the specified device (useful for verifying that the Crestron Home UI is receiving the correct translations.</li>
                                                <li><strong>GetDeviceProperties</strong>: Lists all the property definitions for the specified device.</li>
                                                <li><strong>GetDeviceState</strong>: Lists all the property values for the specified device.</li>
                                                <li><strong>DoCommand</strong>: Send a command to the specified device.</li>
                                                <li><strong>SetValue</strong>: Set the value of a property on the device.</li>
                                            </ul>
                                            <p>To execute one of the commands, send <span class="codeinline">pyng rpc extensions {command} {parameters}</span>.</p>
                                            <p>The parameters that are required depend on the specific command. Some commands do not have parameters. To get additional information about a command, send any command with a “?” as the parameter. An example of this syntax is <span class="codeinline">pyng rpc extensions list ?</span>.</p>
                                            <h3>Crestron Home App</h3>
                                            <p>Crestron Home application logs can be turned on for both iOS® and Android™ devices. These logs contain information specific to the UI, including what data it is being received from the control system. Because of their complexity, it is recommended to only use these logs when working with Crestron Tech Support; however, sometimes they can be useful for finding errors.</p>
                                            <p>To enable these logs:</p>
                                            <ol>
                                                <li value="1">Open the Crestron Home app and navigate to the <strong>More</strong> section at the bottom right of the UI.</li>
                                                <li value="2">Click the <strong>Submit Support Diagnostics</strong> button.</li>
                                                <li value="3">Turn on <strong>Enable Submission of Diagnostics</strong>.</li>
                                                <p class="notebox"><span class="note">NOTE: </span>Any issues that occurred before this setting was turned on will not be present in the logs.</p>
                                                <li value="4">Reproduce the issue.</li>
                                                <li value="5">Click <strong>Submit Support Diagnostics</strong>, and then click <strong>Submit </strong>on the pop&#8209;up dialog that is displayed.</li>
                                            </ol>
                                            <p>From here, logs can be downloaded or sent via email as needed.</p>
                                        </div>
                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TPSkin_TopicToolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                            <div class="button-group-container-left">
                                                <button class="button needs-pie previous-topic-button" title="Previous page">
                                                    <img alt="Navigate previous" src="../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                </button>
                                                <button class="button needs-pie next-topic-button" title="Next page">
                                                    <img alt="Navigate next" src="../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>